# [\#8506 Issue](https://github.com/ethereum/solidity/issues/8506) `closed`: Building 0.5.14 and higher on MacOS lower than 10.14 fails

#### <img src="https://avatars.githubusercontent.com/u/200507?u=d25ff97d9ef2786d0d6254804ec06aa96cf319b6&v=4" width="50">[mickys](https://github.com/mickys) opened issue at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506):

## Description
Some of us are stuck on High Sierra ( 10.13.6 ) due to no Nvidia drivers.

```
[ 25%] Building CXX object libyul/CMakeFiles/yul.dir/AsmAnalysis.cpp.o
/Users/micky/tests/solidity_0.5.17/libyul/AsmAnalysis.cpp:217:17: error: call to unavailable function 'visit': introduced in macOS 10.14
        bool success = std::visit(*this, _statement.expression);
                       ^~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/variant:1524:26: note: candidate function [with _Visitor = yul::AsmAnalyzer &, _Vs = <const std::__1::variant<yul::FunctionalInstruction, yul::FunctionCall, yul::Identifier, yul::Literal> &>] has been explicitly made unavailable
constexpr decltype(auto) visit(_Visitor&& __visitor, _Vs&&... __vs) {
```

Dropping boost::apply_visitor in favour of std::visit is the cause here. 

@chriseth  Any particular reason for  this ?

Could we maybe fall back to the old method if compiling on an older system ?

## Environment

- Compiler version:
```
------------------------------------------------------------------------
-- Configuring solidity 0.5.17
------------------------------------------------------------------------
--                  CMake Version                            3.16.5
-- CMAKE_BUILD_TYPE Build type
-- TARGET_PLATFORM  Target platform                          Darwin
--------------------------------------------------------------- features
-- COVERAGE         Coverage support                         OFF
------------------------------------------------------------- components
-- TESTS            Build tests                              OFF
------------------------------------------------------------------ flags
-- OSSFUZZ                                                   OFF
-- LLL                                                       OFF
------------------------------------------------------------------------
```

- Operating system: MacOS High Sierra (10.13.6)

## Steps to Reproduce

build any release higher than 0.5.13 on MacOS High Sierra (10.13.6)


#### <img src="https://avatars.githubusercontent.com/u/504195?u=ce2facd14af9fd474ebff49f0d44891f56f7500f&v=4" width="50">[leonardoalt](https://github.com/leonardoalt) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-600803062):

The reason is that `std::visit` is better :)

I find falling back to `boost` on older systems quite hacky, especially because we changed quite some code from `boost` to `std`.

Wouldn't simply upgrading the compiler solve it?

#### <img src="https://avatars.githubusercontent.com/u/200507?u=d25ff97d9ef2786d0d6254804ec06aa96cf319b6&v=4" width="50">[mickys](https://github.com/mickys) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-600836599):

@leonardoalt doesn't look like the compiler has newer versions i could try.
As far as i can tell it's OS specific.

```
Socacis-iMac:~ micky$ brew info cmake
cmake: stable 3.16.5 (bottled), HEAD
Cross-platform make
https://www.cmake.org/
/usr/local/Cellar/cmake/3.15.2 (5,800 files, 55.8MB)
  Poured from bottle on 2019-08-12 at 22:39:56
/usr/local/Cellar/cmake/3.16.5 (6,015 files, 58.2MB) *
  Poured from bottle on 2020-03-18 at 19:54:10
From: https://github.com/Homebrew/homebrew-core/blob/master/Formula/cmake.rb
==> Dependencies
Build: sphinx-doc âœ˜
==> Options
--HEAD
	Install HEAD version
==> Caveats
Emacs Lisp files have been installed to:
  /usr/local/share/emacs/site-lisp/cmake
==> Analytics
install: 129,163 (30 days), 382,439 (90 days), 1,478,987 (365 days)
install-on-request: 82,245 (30 days), 240,772 (90 days), 935,132 (365 days)
build-error: 0 (30 days)
Socacis-iMac:~ micky$ brew upgrade cmake
Updating Homebrew...
==> Auto-updated Homebrew!
Updated 1 tap (homebrew/cask).
==> Updated Casks
abstract                                  gitfinder                                 lyricsx                                   razorsql
aimersoft-video-converter-ultimate        glyphs                                    marvel                                    react-studio
anydo                                     goodsync                                  megasync                                  simplenote
azure-data-studio                         insync                                    merlin-project                            simsim
blocs                                     jamf-migrator                             mjml                                      tuple
brave-browser                             jami                                      murus                                     vmware-horizon-client
flipper                                   kitematic                                 portfolioperformance                      whatsapp

Warning: cmake 3.16.5 already installed
Socacis-iMac:~ micky$ cmake --version
cmake version 3.16.5

CMake suite maintained and supported by Kitware (kitware.com/cmake).
Socacis-iMac:~ micky$

```

#### <img src="https://avatars.githubusercontent.com/u/504195?u=ce2facd14af9fd474ebff49f0d44891f56f7500f&v=4" width="50">[leonardoalt](https://github.com/leonardoalt) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-601091020):

@mickys can you check which compiler your `cmake` is using? Is it `gcc` or `clang`? Can you then check the version of such compiler?

#### <img src="https://avatars.githubusercontent.com/u/504195?u=ce2facd14af9fd474ebff49f0d44891f56f7500f&v=4" width="50">[leonardoalt](https://github.com/leonardoalt) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-604462495):

Hopefully fixed by https://github.com/ethereum/solidity/pull/8530

@mickys please reopen otherwise

#### <img src="https://avatars.githubusercontent.com/u/200507?u=d25ff97d9ef2786d0d6254804ec06aa96cf319b6&v=4" width="50">[mickys](https://github.com/mickys) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-604842756):

Can confirm `set(CMAKE_OSX_DEPLOYMENT_TARGET "10.14")` in CMakeLists.txt
builds the project on 10.13 using default High Sierra - Xcode version 10.1 

@leonardoalt 
1. `-- Performing Test fmacro-prefix-map=Usersmickytestsb3=solidity - Failed` - should we be worried about this ?
2. can we bundle this as a diff / patch for homebrew ? ( i can lend a hand here )

FIY: If you have a different Xcode Version installed like me ( Xcode version 10.2 from Mojave ), point cmake to the old xcode 10.1 paths

i.e.
```
mymac:dir user$ cmake -DCMAKE_C_COMPILER=/Applications/Xcode_10.1.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc -DCMAKE_CXX_COMPILER=/Applications/Xcode_10.1.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++  .

mymac:dir user$ make -j8
#where -j8 is the number of threads to use to build

mymac:dir user$ make install
```


### Version output
```
Socacis-iMac:b3 micky$ uname -a
Darwin Socacis-iMac.local 17.7.0 Darwin Kernel Version 17.7.0: Thu Jun 21 22:53:14 PDT 2018; root:xnu-4570.71.2~1/RELEASE_X86_64 x86_64
Socacis-iMac:b3 micky$ solc --version
solc, the solidity compiler commandline interface
Version: 0.5.17+commit.d19bba13.Darwin.appleclang
```

### Make install
```
Socacis-iMac:b3 micky$ make install
[  0%] Built target solidity_BuildInfo.h
[  3%] Built target jsoncpp-project
[  7%] Built target devcore
[ 11%] Built target langutil
[ 17%] Built target evmasm
[ 41%] Built target yul
[ 60%] Built target solidity
[ 60%] Built target libsolc
[ 61%] Built target solc
[ 61%] Built target evmc_loader
[ 62%] Built target yulInterpreter
[ 85%] Built target soltest
[ 93%] Built target isoltest
[ 94%] Built target yulopti
[ 95%] Built target yulrun
[ 96%] Built target solfuzzer
[ 96%] Built target strictasm_opt_ossfuzz
[ 97%] Built target solc_noopt_ossfuzz
[ 97%] Built target const_opt_ossfuzz
[ 98%] Built target solc_opt_ossfuzz
[ 99%] Built target strictasm_diff_ossfuzz
[100%] Built target strictasm_assembly_ossfuzz
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/solc
```

### Full build log on 
72e003bca6d634bace88d7a149342a340e51e9a18c5bd0ad24b9357a9ce20524--solidity_0.5.17.tar.gz

```
Socacis-iMac:b3 micky$ cmake -DCMAKE_C_COMPILER=/Applications/Xcode_10.1.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc -DCMAKE_CXX_COMPILER=/Applications/Xcode_10.1.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++  .
-- [ccache] Enabled: /usr/local/bin/ccache
-- Found Boost headers in
-- Found Boost::filesystem at
-- Found Boost::unit_test_framework at
-- Found Boost::program_options at
-- Found Boost::system at
-- Performing Test fmacro-prefix-map=Usersmickytestsb3=solidity
-- Performing Test fmacro-prefix-map=Usersmickytestsb3=solidity - Failed

------------------------------------------------------------------------
-- Configuring solidity 0.5.17
------------------------------------------------------------------------
--                  CMake Version                            3.16.5
-- CMAKE_BUILD_TYPE Build type
-- TARGET_PLATFORM  Target platform                          Darwin
--------------------------------------------------------------- features
-- COVERAGE         Coverage support                         OFF
------------------------------------------------------------- components
-- TESTS            Build tests                              ON
------------------------------------------------------------------ flags
-- OSSFUZZ                                                   OFF
-- LLL                                                       OFF
------------------------------------------------------------------------

Z3 SMT solver found. This enables optional SMT checking with Z3.
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/micky/tests/b3
Socacis-iMac:b3 micky$ make -j8
[  0%] Creating directories for 'jsoncpp-project'
[  0%] Building C object test/evmc/CMakeFiles/evmc_loader.dir/loader.c.o
[  0%] Linking C static library libevmc_loader.a
[  0%] Built target solidity_BuildInfo.h
[  0%] Built target evmc_loader
[  1%] Performing download step (download, verify and extract) for 'jsoncpp-project'
-- verifying file...
       file='/Users/micky/tests/b3/deps/downloads/jsoncpp-1.9.2.tar.gz'
-- File already exists and hash match (skip download):
  file='/Users/micky/tests/b3/deps/downloads/jsoncpp-1.9.2.tar.gz'
  SHA256='77a402fb577b2e0e5d0bdc1cf9c65278915cdb25171e3452c68b6da8a561f8f0'
-- extracting...
     src='/Users/micky/tests/b3/deps/downloads/jsoncpp-1.9.2.tar.gz'
     dst='/Users/micky/tests/b3/deps/src/jsoncpp-project'
-- extracting... [tar xfz]
-- extracting... [analysis]
-- extracting... [rename]
-- extracting... [clean up]
-- extracting... done
[  1%] No patch step for 'jsoncpp-project'
[  1%] No update step for 'jsoncpp-project'
[  2%] Performing configure step for 'jsoncpp-project'
-- JsonCpp Version: 1.9.2
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/micky/tests/b3/deps/src/jsoncpp-project-build
[  2%] Performing build step for 'jsoncpp-project'
[ 33%] Built target jsoncpp_lib
[ 50%] Built target readFromStream
[ 83%] Built target stringWrite
[ 83%] Built target streamWrite
[100%] Built target readFromString
[100%] Built target examples
[  2%] Performing install step for 'jsoncpp-project'
[ 33%] Built target jsoncpp_lib
[ 50%] Built target readFromString
[ 66%] Built target streamWrite
[100%] Built target readFromStream
[100%] Built target stringWrite
[100%] Built target examples
Install the project...
-- Install configuration: ""
-- Up-to-date: /Users/micky/tests/b3/deps/lib/cmake/jsoncpp/jsoncppConfig.cmake
-- Installing: /Users/micky/tests/b3/deps/lib/cmake/jsoncpp/jsoncppConfig-noconfig.cmake
-- Up-to-date: /Users/micky/tests/b3/deps/lib/cmake/jsoncpp/jsoncppConfigVersion.cmake
-- Installing: /Users/micky/tests/b3/deps/lib/libjsoncpp.a
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/allocator.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/assertions.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/autolink.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/config.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/forwards.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/json.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/json_features.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/reader.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/value.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/version.h
-- Up-to-date: /Users/micky/tests/b3/deps/include/json/writer.h
[  3%] Completed 'jsoncpp-project'
[  3%] Built target jsoncpp-project
[  4%] Building CXX object libdevcore/CMakeFiles/devcore.dir/Keccak256.cpp.o
[  5%] Building CXX object libdevcore/CMakeFiles/devcore.dir/Exceptions.cpp.o
[  5%] Building CXX object libdevcore/CMakeFiles/devcore.dir/IndentedWriter.cpp.o
[  6%] Building CXX object libdevcore/CMakeFiles/devcore.dir/CommonData.cpp.o
[  6%] Building CXX object libdevcore/CMakeFiles/devcore.dir/JSON.cpp.o
[  6%] Building CXX object libdevcore/CMakeFiles/devcore.dir/CommonIO.cpp.o
[  6%] Building CXX object libdevcore/CMakeFiles/devcore.dir/IpfsHash.cpp.o
[  6%] Building CXX object libdevcore/CMakeFiles/devcore.dir/StringUtils.cpp.o
[  6%] Building CXX object libdevcore/CMakeFiles/devcore.dir/SwarmHash.cpp.o
[  7%] Building CXX object libdevcore/CMakeFiles/devcore.dir/UTF8.cpp.o
[  7%] Building CXX object libdevcore/CMakeFiles/devcore.dir/Whiskers.cpp.o
[  7%] Linking CXX static library libdevcore.a
[  7%] Built target devcore
[  7%] Building CXX object liblangutil/CMakeFiles/langutil.dir/CharStream.cpp.o
[  8%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/Assembly.cpp.o
[  9%] Building CXX object liblangutil/CMakeFiles/langutil.dir/EVMVersion.cpp.o
[  9%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/BlockDeduplicator.cpp.o
[  9%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/AssemblyItem.cpp.o
[  9%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/CommonSubexpressionEliminator.cpp.o
[  9%] Building CXX object liblangutil/CMakeFiles/langutil.dir/ErrorReporter.cpp.o
[ 10%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/ConstantOptimiser.cpp.o
[ 10%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/ControlFlowGraph.cpp.o
[ 10%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/ExpressionClasses.cpp.o
[ 10%] Building CXX object liblangutil/CMakeFiles/langutil.dir/Exceptions.cpp.o
[ 11%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/GasMeter.cpp.o
[ 11%] Building CXX object liblangutil/CMakeFiles/langutil.dir/ParserBase.cpp.o
[ 12%] Building CXX object liblangutil/CMakeFiles/langutil.dir/Scanner.cpp.o
[ 12%] Building CXX object liblangutil/CMakeFiles/langutil.dir/SemVerHandler.cpp.o
[ 12%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/Instruction.cpp.o
[ 12%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/JumpdestRemover.cpp.o
[ 13%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/KnownState.cpp.o
[ 13%] Building CXX object liblangutil/CMakeFiles/langutil.dir/SourceReferenceExtractor.cpp.o
[ 13%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/LinkerObject.cpp.o
[ 14%] Building CXX object liblangutil/CMakeFiles/langutil.dir/SourceReferenceFormatter.cpp.o
[ 14%] Building CXX object liblangutil/CMakeFiles/langutil.dir/SourceReferenceFormatterHuman.cpp.o
[ 14%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/PathGasMeter.cpp.o
[ 14%] Building CXX object liblangutil/CMakeFiles/langutil.dir/Token.cpp.o
[ 15%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/PeepholeOptimiser.cpp.o
[ 15%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/SemanticInformation.cpp.o
[ 15%] Building CXX object libevmasm/CMakeFiles/evmasm.dir/SimplificationRules.cpp.o
[ 16%] Linking CXX static library liblangutil.a
[ 16%] Built target langutil
[ 17%] Linking CXX static library libevmasm.a
[ 17%] Built target evmasm
[ 17%] Building CXX object libyul/CMakeFiles/yul.dir/AsmScopeFiller.cpp.o
[ 18%] Building CXX object libyul/CMakeFiles/yul.dir/AsmPrinter.cpp.o
[ 18%] Building CXX object libyul/CMakeFiles/yul.dir/AsmScope.cpp.o
[ 19%] Building CXX object libyul/CMakeFiles/yul.dir/Object.cpp.o
[ 19%] Building CXX object libyul/CMakeFiles/yul.dir/AsmAnalysis.cpp.o
[ 19%] Building CXX object libyul/CMakeFiles/yul.dir/AsmParser.cpp.o
[ 20%] Building CXX object libyul/CMakeFiles/yul.dir/CompilabilityChecker.cpp.o
[ 20%] Building CXX object libyul/CMakeFiles/yul.dir/AssemblyStack.cpp.o
[ 20%] Building CXX object libyul/CMakeFiles/yul.dir/ObjectParser.cpp.o
[ 21%] Building CXX object libyul/CMakeFiles/yul.dir/Utilities.cpp.o
[ 21%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/AsmCodeGen.cpp.o
[ 21%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/ConstantOptimiser.cpp.o
[ 22%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/EVMAssembly.cpp.o
[ 22%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/EVMCodeTransform.cpp.o
[ 22%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/EVMDialect.cpp.o
[ 22%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/EVMObjectCompiler.cpp.o
[ 23%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/EVMMetrics.cpp.o
[ 23%] Building CXX object libyul/CMakeFiles/yul.dir/backends/evm/NoOutputAssembly.cpp.o
[ 23%] Building CXX object libyul/CMakeFiles/yul.dir/backends/wasm/EVMToEWasmTranslator.cpp.o
[ 24%] Building CXX object libyul/CMakeFiles/yul.dir/backends/wasm/EWasmCodeTransform.cpp.o
[ 24%] Building CXX object libyul/CMakeFiles/yul.dir/backends/wasm/EWasmObjectCompiler.cpp.o
[ 24%] Building CXX object libyul/CMakeFiles/yul.dir/backends/wasm/EWasmToText.cpp.o
[ 25%] Building CXX object libyul/CMakeFiles/yul.dir/backends/wasm/BinaryTransform.cpp.o
[ 25%] Building CXX object libyul/CMakeFiles/yul.dir/backends/wasm/WasmDialect.cpp.o
[ 25%] Building CXX object libyul/CMakeFiles/yul.dir/backends/wasm/WordSizeTransform.cpp.o
[ 26%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ASTCopier.cpp.o
[ 26%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ASTWalker.cpp.o
[ 26%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/BlockFlattener.cpp.o
[ 27%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/BlockHasher.cpp.o
[ 27%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/CallGraphGenerator.cpp.o
[ 27%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/CommonSubexpressionEliminator.cpp.o
[ 28%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ConditionalSimplifier.cpp.o
[ 28%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ConditionalUnsimplifier.cpp.o
[ 28%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ControlFlowSimplifier.cpp.o
[ 28%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/DataFlowAnalyzer.cpp.o
[ 29%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/DeadCodeEliminator.cpp.o
[ 29%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/Disambiguator.cpp.o
[ 29%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/EquivalentFunctionDetector.cpp.o
[ 30%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/EquivalentFunctionCombiner.cpp.o
[ 30%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ExpressionInliner.cpp.o
[ 30%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ExpressionJoiner.cpp.o
[ 31%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ExpressionSimplifier.cpp.o
[ 31%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ExpressionSplitter.cpp.o
[ 31%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ForLoopConditionIntoBody.cpp.o
[ 32%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ForLoopConditionOutOfBody.cpp.o
[ 32%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/ForLoopInitRewriter.cpp.o
[ 32%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/FullInliner.cpp.o
[ 33%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/FunctionGrouper.cpp.o
[ 33%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/FunctionHoister.cpp.o
[ 33%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/InlinableExpressionFunctionFinder.cpp.o
[ 33%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/KnowledgeBase.cpp.o
[ 34%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/LoadResolver.cpp.o
[ 34%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/LoopInvariantCodeMotion.cpp.o
[ 34%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/MainFunction.cpp.o
[ 35%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/Metrics.cpp.o
[ 35%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/NameCollector.cpp.o
[ 35%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/NameDispenser.cpp.o
[ 36%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/NameDisplacer.cpp.o
[ 36%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/OptimizerUtilities.cpp.o
[ 36%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/RedundantAssignEliminator.cpp.o
[ 37%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/Rematerialiser.cpp.o
[ 37%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/SSAReverser.cpp.o
[ 37%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/SSATransform.cpp.o
[ 38%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/SSAValueTracker.cpp.o
[ 38%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/Semantics.cpp.o
[ 38%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/SimplificationRules.cpp.o
[ 38%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/StackCompressor.cpp.o
[ 39%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/StructuralSimplifier.cpp.o
[ 39%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/Substitution.cpp.o
[ 39%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/Suite.cpp.o
[ 40%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/SyntacticalEquality.cpp.o
[ 40%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/UnusedPruner.cpp.o
[ 40%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/VarDeclInitializer.cpp.o
[ 41%] Building CXX object libyul/CMakeFiles/yul.dir/optimiser/VarNameCleaner.cpp.o
[ 41%] Linking CXX static library libyul.a
[ 41%] Built target yul
Scanning dependencies of target solidity
Scanning dependencies of target strictasm_opt_ossfuzz
Scanning dependencies of target strictasm_assembly_ossfuzz
[ 41%] Building CXX object test/tools/ossfuzz/CMakeFiles/strictasm_opt_ossfuzz.dir/strictasm_opt_ossfuzz.cpp.o
[ 42%] Building CXX object test/tools/ossfuzz/CMakeFiles/strictasm_assembly_ossfuzz.dir/strictasm_assembly_ossfuzz.cpp.o
[ 42%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/ControlFlowAnalyzer.cpp.o
[ 42%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/ConstantEvaluator.cpp.o
[ 44%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/ControlFlowBuilder.cpp.o
[ 44%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/ContractLevelChecker.cpp.o
[ 44%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/ControlFlowGraph.cpp.o
[ 44%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/DeclarationContainer.cpp.o
[ 44%] Linking CXX static library libstrictasm_opt_ossfuzz.a
[ 44%] Built target strictasm_opt_ossfuzz
[ 44%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/DocStringAnalyser.cpp.o
[ 44%] Linking CXX static library libstrictasm_assembly_ossfuzz.a
[ 44%] Built target strictasm_assembly_ossfuzz
[ 44%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/GlobalContext.cpp.o
[ 45%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/NameAndTypeResolver.cpp.o
[ 45%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/PostTypeChecker.cpp.o
[ 45%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/ReferencesResolver.cpp.o
[ 46%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/StaticAnalyzer.cpp.o
[ 46%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/SyntaxChecker.cpp.o
[ 46%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/TypeChecker.cpp.o
[ 47%] Building CXX object libsolidity/CMakeFiles/solidity.dir/analysis/ViewPureChecker.cpp.o
[ 47%] Building CXX object libsolidity/CMakeFiles/solidity.dir/ast/AST.cpp.o
[ 47%] Building CXX object libsolidity/CMakeFiles/solidity.dir/ast/ASTAnnotations.cpp.o
[ 48%] Building CXX object libsolidity/CMakeFiles/solidity.dir/ast/ASTJsonConverter.cpp.o
[ 48%] Building CXX object libsolidity/CMakeFiles/solidity.dir/ast/ASTPrinter.cpp.o
[ 48%] Building CXX object libsolidity/CMakeFiles/solidity.dir/ast/ASTUtils.cpp.o
[ 49%] Building CXX object libsolidity/CMakeFiles/solidity.dir/ast/Types.cpp.o
[ 49%] Building CXX object libsolidity/CMakeFiles/solidity.dir/ast/TypeProvider.cpp.o
[ 49%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ABIFunctions.cpp.o
[ 49%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ArrayUtils.cpp.o
[ 50%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/Compiler.cpp.o
[ 50%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/CompilerContext.cpp.o
[ 50%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/CompilerUtils.cpp.o
[ 51%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ContractCompiler.cpp.o
[ 51%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ExpressionCompiler.cpp.o
[ 51%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/LValue.cpp.o
[ 52%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/MultiUseYulFunctionCollector.cpp.o
[ 52%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/YulUtilFunctions.cpp.o
[ 52%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ir/IRGenerator.cpp.o
[ 53%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ir/IRGeneratorForStatements.cpp.o
[ 53%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ir/IRGenerationContext.cpp.o
[ 53%] Building CXX object libsolidity/CMakeFiles/solidity.dir/codegen/ir/IRLValue.cpp.o
[ 54%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/BMC.cpp.o
[ 54%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/CHC.cpp.o
[ 54%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/CHCSmtLib2Interface.cpp.o
[ 55%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/EncodingContext.cpp.o
[ 55%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/ModelChecker.cpp.o
[ 55%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/SMTEncoder.cpp.o
[ 55%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/SMTLib2Interface.cpp.o
[ 56%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/SMTPortfolio.cpp.o
[ 56%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/SSAVariable.cpp.o
[ 56%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/SymbolicTypes.cpp.o
[ 57%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/SymbolicVariables.cpp.o
[ 57%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/VariableUsage.cpp.o
[ 57%] Building CXX object libsolidity/CMakeFiles/solidity.dir/interface/ABI.cpp.o
[ 58%] Building CXX object libsolidity/CMakeFiles/solidity.dir/interface/CompilerStack.cpp.o
[ 58%] Building CXX object libsolidity/CMakeFiles/solidity.dir/interface/GasEstimator.cpp.o
[ 58%] Building CXX object libsolidity/CMakeFiles/solidity.dir/interface/Natspec.cpp.o
[ 59%] Building CXX object libsolidity/CMakeFiles/solidity.dir/interface/StandardCompiler.cpp.o
[ 59%] Building CXX object libsolidity/CMakeFiles/solidity.dir/interface/StorageLayout.cpp.o
[ 59%] Building CXX object libsolidity/CMakeFiles/solidity.dir/interface/Version.cpp.o
[ 60%] Building CXX object libsolidity/CMakeFiles/solidity.dir/parsing/DocStringParser.cpp.o
[ 60%] Building CXX object libsolidity/CMakeFiles/solidity.dir/parsing/Parser.cpp.o
[ 60%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/Z3Interface.cpp.o
[ 60%] Building CXX object libsolidity/CMakeFiles/solidity.dir/formal/Z3CHCInterface.cpp.o
[ 61%] Linking CXX static library libsolidity.a
[ 61%] Built target solidity
Scanning dependencies of target yulopti
Scanning dependencies of target solc
Scanning dependencies of target yulInterpreter
Scanning dependencies of target libsolc
[ 62%] Building CXX object test/tools/yulInterpreter/CMakeFiles/yulInterpreter.dir/EWasmBuiltinInterpreter.cpp.o
[ 62%] Building CXX object test/tools/yulInterpreter/CMakeFiles/yulInterpreter.dir/Interpreter.cpp.o
[ 62%] Building CXX object test/tools/yulInterpreter/CMakeFiles/yulInterpreter.dir/EVMInstructionInterpreter.cpp.o
[ 62%] Building CXX object libsolc/CMakeFiles/libsolc.dir/libsolc.cpp.o
[ 63%] Building CXX object test/tools/CMakeFiles/yulopti.dir/yulopti.cpp.o
[ 64%] Building CXX object solc/CMakeFiles/solc.dir/CommandLineInterface.cpp.o
[ 64%] Building CXX object solc/CMakeFiles/solc.dir/main.cpp.o
[ 64%] Linking CXX static library libsolc.a
[ 64%] Built target libsolc
Scanning dependencies of target solc_noopt_ossfuzz
Scanning dependencies of target solfuzzer
Scanning dependencies of target const_opt_ossfuzz
Scanning dependencies of target solc_opt_ossfuzz
[ 64%] Linking CXX static library libyulInterpreter.a
[ 64%] Building CXX object test/tools/CMakeFiles/solfuzzer.dir/afl_fuzzer.cpp.o
[ 64%] Building CXX object test/tools/ossfuzz/CMakeFiles/solc_noopt_ossfuzz.dir/solc_noopt_ossfuzz.cpp.o
[ 64%] Building CXX object test/tools/ossfuzz/CMakeFiles/const_opt_ossfuzz.dir/const_opt_ossfuzz.cpp.o
[ 64%] Building CXX object test/tools/ossfuzz/CMakeFiles/solc_opt_ossfuzz.dir/solc_opt_ossfuzz.cpp.o
[ 65%] Building CXX object test/tools/ossfuzz/CMakeFiles/solc_noopt_ossfuzz.dir/__/fuzzer_common.cpp.o
[ 65%] Built target yulInterpreter
[ 66%] Building CXX object test/tools/CMakeFiles/solfuzzer.dir/fuzzer_common.cpp.o
[ 66%] Building CXX object test/tools/ossfuzz/CMakeFiles/const_opt_ossfuzz.dir/__/fuzzer_common.cpp.o
[ 67%] Building CXX object test/tools/ossfuzz/CMakeFiles/solc_opt_ossfuzz.dir/__/fuzzer_common.cpp.o
Scanning dependencies of target soltest
[ 67%] Building CXX object test/CMakeFiles/soltest.dir/boostTest.cpp.o
[ 67%] Linking CXX executable yulopti
[ 67%] Built target yulopti
[ 67%] Building CXX object test/CMakeFiles/soltest.dir/Common.cpp.o
[ 67%] Linking CXX executable solc
Scanning dependencies of target isoltest
[ 67%] Building CXX object test/tools/CMakeFiles/isoltest.dir/isoltest.cpp.o
[ 67%] Linking CXX static library libsolc_noopt_ossfuzz.a
ld: warning: direct access in function 'dev::solidity::Type::identifier() const' from file '../libsolidity/libsolidity.a(Types.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function '(anonymous namespace)::locationFromSources(std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > > const&, langutil::SourceLocation const&)' from file '../libevmasm/libevmasm.a(Assembly.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
[ 67%] Linking CXX executable solfuzzer
[ 67%] Linking CXX static library libconst_opt_ossfuzz.a
[ 67%] Linking CXX static library libsolc_opt_ossfuzz.a
[ 67%] Built target solc_noopt_ossfuzz
[ 68%] Building CXX object test/CMakeFiles/soltest.dir/EVMHost.cpp.o
[ 68%] Built target solc
[ 69%] Building CXX object test/tools/CMakeFiles/isoltest.dir/IsolTestOptions.cpp.o
[ 69%] Built target const_opt_ossfuzz
[ 69%] Built target solc_opt_ossfuzz
[ 69%] Building CXX object test/CMakeFiles/soltest.dir/ExecutionFramework.cpp.o
[ 69%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/Options.cpp.o
ld: warning: direct access in function '(anonymous namespace)::locationFromSources(std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > > const&, langutil::SourceLocation const&)' from file '../../libevmasm/libevmasm.a(Assembly.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::solidity::Type::identifier() const' from file '../../libsolidity/libsolidity.a(Types.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
[ 69%] Built target solfuzzer
[ 69%] Building CXX object test/CMakeFiles/soltest.dir/Metadata.cpp.o
Scanning dependencies of target yulrun
[ 69%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/Common.cpp.o
[ 69%] Building CXX object test/tools/CMakeFiles/yulrun.dir/yulrun.cpp.o
[ 70%] Building CXX object test/CMakeFiles/soltest.dir/Options.cpp.o
Scanning dependencies of target strictasm_diff_ossfuzz
[ 71%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/EVMHost.cpp.o
[ 71%] Building CXX object test/tools/ossfuzz/CMakeFiles/strictasm_diff_ossfuzz.dir/strictasm_diff_ossfuzz.cpp.o
[ 71%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/TestCase.cpp.o
[ 71%] Building CXX object test/CMakeFiles/soltest.dir/TestCase.cpp.o
[ 71%] Building CXX object test/CMakeFiles/soltest.dir/contracts/AuctionRegistrar.cpp.o
[ 72%] Building CXX object test/tools/ossfuzz/CMakeFiles/strictasm_diff_ossfuzz.dir/yulFuzzerCommon.cpp.o
[ 73%] Building CXX object test/CMakeFiles/soltest.dir/contracts/FixedFeeRegistrar.cpp.o
[ 73%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/util/BytesUtils.cpp.o
[ 74%] Linking CXX executable yulrun
ld: warning: direct access in function '(anonymous namespace)::locationFromSources(std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > > const&, langutil::SourceLocation const&)' from file '../../libevmasm/libevmasm.a(Assembly.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
[ 74%] Built target yulrun
[ 74%] Building CXX object test/CMakeFiles/soltest.dir/contracts/Wallet.cpp.o
[ 75%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/util/ContractABIUtils.cpp.o
[ 75%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/Checksum.cpp.o
[ 75%] Linking CXX static library libstrictasm_diff_ossfuzz.a
[ 75%] Built target strictasm_diff_ossfuzz
[ 75%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/util/TestFileParser.cpp.o
[ 76%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/CommonData.cpp.o
[ 76%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/util/TestFunctionCall.cpp.o
[ 77%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/GasTest.cpp.o
[ 77%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/IndentedWriter.cpp.o
[ 77%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/SyntaxTest.cpp.o
[ 77%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/SemanticTest.cpp.o
[ 77%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/IpfsHash.cpp.o
[ 78%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/AnalysisFramework.cpp.o
[ 78%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/IterateReplacing.cpp.o
[ 79%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/JSON.cpp.o
[ 79%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/SolidityExecutionFramework.cpp.o
[ 79%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/Keccak256.cpp.o
[ 79%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/StringUtils.cpp.o
[ 79%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/ExecutionFramework.cpp.o
[ 79%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/ABIJsonTest.cpp.o
[ 80%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/SwarmHash.cpp.o
[ 81%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/ASTJSONTest.cpp.o
[ 81%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/UTF8.cpp.o
[ 81%] Building CXX object test/CMakeFiles/soltest.dir/libdevcore/Whiskers.cpp.o
[ 81%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libsolidity/SMTCheckerJSONTest.cpp.o
[ 82%] Building CXX object test/CMakeFiles/soltest.dir/liblangutil/CharStream.cpp.o
[ 82%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libyul/Common.cpp.o
[ 82%] Building CXX object test/CMakeFiles/soltest.dir/liblangutil/SourceLocation.cpp.o
[ 83%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libyul/EWasmTranslationTest.cpp.o
[ 83%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libyul/FunctionSideEffects.cpp.o
[ 83%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libyul/ObjectCompilerTest.cpp.o
[ 83%] Building CXX object test/CMakeFiles/soltest.dir/libevmasm/Assembler.cpp.o
[ 84%] Building CXX object test/CMakeFiles/soltest.dir/libevmasm/Optimiser.cpp.o
[ 85%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libyul/YulOptimizerTest.cpp.o
[ 85%] Building CXX object test/tools/CMakeFiles/isoltest.dir/__/libyul/YulInterpreterTest.cpp.o
[ 85%] Building CXX object test/CMakeFiles/soltest.dir/libyul/Common.cpp.o
[ 85%] Building CXX object test/CMakeFiles/soltest.dir/libyul/CompilabilityChecker.cpp.o
[ 86%] Building CXX object test/CMakeFiles/soltest.dir/libyul/EWasmTranslationTest.cpp.o
[ 86%] Building CXX object test/CMakeFiles/soltest.dir/libyul/FunctionSideEffects.cpp.o
[ 86%] Building CXX object test/CMakeFiles/soltest.dir/libyul/Inliner.cpp.o
[ 86%] Building CXX object test/CMakeFiles/soltest.dir/libyul/Metrics.cpp.o
[ 87%] Building CXX object test/CMakeFiles/soltest.dir/libyul/ObjectCompilerTest.cpp.o
[ 87%] Building CXX object test/CMakeFiles/soltest.dir/libyul/ObjectParser.cpp.o
[ 87%] Building CXX object test/CMakeFiles/soltest.dir/libyul/Parser.cpp.o
[ 88%] Building CXX object test/CMakeFiles/soltest.dir/libyul/StackReuseCodegen.cpp.o
[ 88%] Building CXX object test/CMakeFiles/soltest.dir/libyul/YulInterpreterTest.cpp.o
[ 88%] Linking CXX executable isoltest
[ 88%] Building CXX object test/CMakeFiles/soltest.dir/libyul/YulOptimizerTest.cpp.o
[ 89%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/ABIDecoderTests.cpp.o
ld: warning: direct access in function '(anonymous namespace)::arraySize(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)' from file 'CMakeFiles/isoltest.dir/__/libsolidity/util/ContractABIUtils.cpp.o' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::solidity::Type::identifier() const' from file '../../libsolidity/libsolidity.a(Types.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function '(anonymous namespace)::locationFromSources(std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > > const&, langutil::SourceLocation const&)' from file '../../libevmasm/libevmasm.a(Assembly.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
[ 89%] Built target isoltest
[ 89%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/ABIEncoderTests.cpp.o
[ 89%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/ABIJsonTest.cpp.o
[ 90%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/AnalysisFramework.cpp.o
[ 90%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/Assembly.cpp.o
[ 90%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/ASTJSONTest.cpp.o
[ 91%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/ErrorCheck.cpp.o
[ 91%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/GasCosts.cpp.o
[ 91%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/GasMeter.cpp.o
[ 92%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/GasTest.cpp.o
[ 92%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/Imports.cpp.o
[ 92%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/InlineAssembly.cpp.o
[ 92%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/LibSolc.cpp.o
[ 93%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/Metadata.cpp.o
[ 93%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SemanticTest.cpp.o
[ 93%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SemVerMatcher.cpp.o
[ 94%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SMTChecker.cpp.o
[ 94%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SMTCheckerJSONTest.cpp.o
[ 94%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityCompiler.cpp.o
[ 95%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityEndToEndTest.cpp.o
[ 95%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityExecutionFramework.cpp.o
[ 95%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityExpressionCompiler.cpp.o
[ 96%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityNameAndTypeResolution.cpp.o
[ 96%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityNatspecJSON.cpp.o
[ 96%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityOptimizer.cpp.o
[ 97%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityParser.cpp.o
[ 97%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityScanner.cpp.o
[ 97%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SolidityTypes.cpp.o
[ 97%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/StandardCompiler.cpp.o
[ 98%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/SyntaxTest.cpp.o
[ 98%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/ViewPureChecker.cpp.o
[ 98%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/util/BytesUtils.cpp.o
[ 99%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/util/ContractABIUtils.cpp.o
[ 99%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/util/TestFileParser.cpp.o
[ 99%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/util/TestFileParserTests.cpp.o
[100%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/util/TestFunctionCall.cpp.o
[100%] Building CXX object test/CMakeFiles/soltest.dir/libsolidity/util/TestFunctionCallTests.cpp.o
[100%] Linking CXX executable soltest
ld: warning: direct access in function '(anonymous namespace)::arraySize(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)' from file 'CMakeFiles/soltest.dir/libsolidity/util/ContractABIUtils.cpp.o' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::solidity::Type::identifier() const' from file '../libsolidity/libsolidity.a(Types.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function '(anonymous namespace)::locationFromSources(std::__1::map<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > > const&, langutil::SourceLocation const&)' from file '../libevmasm/libevmasm.a(Assembly.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
ld: warning: direct access in function 'dev::passesAddressChecksum(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)' from file '../libdevcore/libdevcore.a(CommonData.cpp.o)' to global weak symbol 'std::__1::char_traits<char>::eq(char, char)' from file '../deps/lib/libjsoncpp.a(json_value.cpp.o)' means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings.
[100%] Built target soltest
```

#### <img src="https://avatars.githubusercontent.com/u/504195?u=ce2facd14af9fd474ebff49f0d44891f56f7500f&v=4" width="50">[leonardoalt](https://github.com/leonardoalt) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-605023788):

@mickys thanks for the hints for other users!

I don't use MacOS so not sure about the patch.
@axic thoughts?

#### <img src="https://avatars.githubusercontent.com/u/20340?v=4" width="50">[axic](https://github.com/axic) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-605028891):

> `-- Performing Test fmacro-prefix-map=Usersmickytestsb3=solidity - Failed` - should we be worried about this ?

A quick google search indicates we do not need to care about this.

> can we bundle this as a diff / patch for homebrew ? ( i can lend a hand here )

@mickys can you explain?

#### <img src="https://avatars.githubusercontent.com/u/200507?u=d25ff97d9ef2786d0d6254804ec06aa96cf319b6&v=4" width="50">[mickys](https://github.com/mickys) commented at [2020-03-18 18:34](https://github.com/ethereum/solidity/issues/8506#issuecomment-605186177):

@axic 
homebrew solidity@5 script at https://github.com/ethereum/homebrew-ethereum/blob/master/solidity%405.rb 

the homebrew script just gets "https://github.com/ethereum/solidity/releases/download/v0.5.17/solidity_0.5.17.tar.gz" and expands this archive, then runs the install procedure
```
def install
  system "cmake", ".", *std_cmake_args, "-DTESTS=OFF"
  system "make", "install"
end
```

What we'd need is a way to inject the changes in #8530 into the extracted archive, or repackage all releases after 0.5.13 with this change.

homebrew has support for patches: i.e.
```
patch do
  url "https://example.com/example_patch.diff"
  sha256 "85cc828a96735bdafcf29eb6291ca91bac846579bcef7308536e0c875d6c81d7"
end
```

Should be fairly easy to host a diff patch of said commit in the same repo, and have the patch and sha in the Formula, as it basically allows any release between 0.5.13 - 0.6.4 included to build on High Sierra and higher with no hassle :)


-------------------------------------------------------------------------------



[Export of Github issue for [ethereum/solidity](https://github.com/ethereum/solidity). Generated on 2022.05.23 at 03:51:38.]
