# [\#3629 Issue](https://github.com/ethereum/solidity/issues/3629) `closed`: Source maps sometimes have sourceIndex === -1
**Labels**: `documentation :book:`


#### <img src="https://avatars.githubusercontent.com/u/6204356?u=38d3259e570a464c8ba980fe6d560df36010d299&v=4" width="50">[LogvinovLeon](https://github.com/LogvinovLeon) opened issue at [2018-03-01 23:45](https://github.com/ethereum/solidity/issues/3629):

This might not be an issue, but I just can't figure out how to interpret that.

I'm compiling my contracts with source maps and when I try to decode them I get `sourceIndex === -1`. The docs on the source maps don't describe that possibility. I looked into the code and found [this line](https://github.com/ethereum/solidity/blob/develop/libsolidity/interface/CompilerStack.cpp#L880)
I've printed the location to find out why fas my file name not in the mapping and the file name is: `--CODEGEN--`.  Could you please give some explanation on what does that mean, what causes that and how should I handle that?

#### <img src="https://avatars.githubusercontent.com/u/20340?v=4" width="50">[axic](https://github.com/axic) commented at [2018-03-01 23:56](https://github.com/ethereum/solidity/issues/3629#issuecomment-369773098):

It is code generated by "inline assembly" statements generated by the compiler: https://github.com/ethereum/solidity/blob/develop/libsolidity/codegen/CompilerContext.h#L193-L201

They do not have an accompanying source code supplied by the user.

#### <img src="https://avatars.githubusercontent.com/u/20340?v=4" width="50">[axic](https://github.com/axic) commented at [2018-03-01 23:57](https://github.com/ethereum/solidity/issues/3629#issuecomment-369773338):

I mean the above is true for those marked `--CODEGEN--`. I don't think there is any other way currently for a piece of code lacking a source index.

#### <img src="https://avatars.githubusercontent.com/u/6204356?u=38d3259e570a464c8ba980fe6d560df36010d299&v=4" width="50">[LogvinovLeon](https://github.com/LogvinovLeon) commented at [2018-03-02 00:01](https://github.com/ethereum/solidity/issues/3629#issuecomment-369773954):

Thanks

#### <img src="https://avatars.githubusercontent.com/u/20340?v=4" width="50">[axic](https://github.com/axic) commented at [2018-03-02 00:05](https://github.com/ethereum/solidity/issues/3629#issuecomment-369774833):

It would be nice to document this. Would you be interested documenting it?

#### <img src="https://avatars.githubusercontent.com/u/4532328?u=db65d77fd630be1159b22b0bc64246e65af05609&v=4" width="50">[recmo](https://github.com/recmo) commented at [2018-03-02 00:11](https://github.com/ethereum/solidity/issues/3629#issuecomment-369775992):

I just read through the Solidity source. If I understand correctly, whenever `appendInlineAssembly` is called, these instructions would be attributed to `--CODEGEN--`.

This happens in `memoryCopy32`, `memoryCopy`, `deployLibrary` and `appendMissingFunctions`, no where else at the moment.

In the case of memory copies, it should be quite clear which line of Solidity code caused the memcopy to be there.

In the case of `deployLibrary` and `appendMissingFunctions` I can see that it is harder to identify code that corresponds to it. Though I would suggest to map it to the source range that spans the entire contract, as this would be in line with how the sourcemap works for the function selector logic.

#### <img src="https://avatars.githubusercontent.com/u/9073706?v=4" width="50">[chriseth](https://github.com/chriseth) commented at [2018-03-02 09:39](https://github.com/ethereum/solidity/issues/3629#issuecomment-369872387):

The value of `-1` is a general "unknown" value. Code generation through compiler-generated inline assembly is also performed with the new ABI encoder. In this case, lots of code will be re-used from many places, and it can even be the case that an internal function of a library uses the same encoding code as a function in a contract in a different source file. Because of that, I think we cannot entirely remove this unknown value.

Remix currently treats it as no change in source location.

#### <img src="https://avatars.githubusercontent.com/u/20340?v=4" width="50">[axic](https://github.com/axic) commented at [2018-03-02 15:02](https://github.com/ethereum/solidity/issues/3629#issuecomment-369944481):

@LogvinovLeon or @Recmo are you interested in documenting this?

If not, @ekpyron or @bit-shift, would you do it?


-------------------------------------------------------------------------------



[Export of Github issue for [ethereum/solidity](https://github.com/ethereum/solidity). Generated on 2024.12.15 at 06:45:24.]
