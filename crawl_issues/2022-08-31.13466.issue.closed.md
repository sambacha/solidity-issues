# [\#13466 Issue](https://github.com/ethereum/solidity/issues/13466) `closed`: Add a special comment for storage layout
**Labels**: `waiting for more input`


#### <img src="https://avatars.githubusercontent.com/u/37038019?u=2ed2d6624342914de5a49a0d4c36757b810bdd31&v=4" width="50">[wiasliaw](https://github.com/wiasliaw) opened issue at [2022-08-31 18:57](https://github.com/ethereum/solidity/issues/13466):

## Abstract

Add a special comment to register a variable as an used storage slot.

## Motivation

Here's the common Proxy which store implementation address in storage index of `keccak256("proxy.implementation")`.

```solidity
contract Proxy {
    bytes32 private constant _IMPLEMENTATION = keccak256("proxy.implementation");
    ...
}
```

The storage index of `keccak256("proxy.implementation")` is used but the storage layout report from compiler will be:

```json
"storageLayout": {
    "storage": [],
    "types": {}
},
```

It will be useful to register the used storage index into report for further check by slither or other security tools.

## Specification

Adding special comment like below or other naming. The comment should include the type.

```solidity
contract Proxy {
  /// @solidity:storage-layout address
  bytes32 private constant _IMPLEMENTATION = keccak256("proxy.implementation");
  ...
}
```

## Backwards Compatibility

There's no backwards compatibility issue.


#### <img src="https://avatars.githubusercontent.com/u/94478736?u=3406fbc90c9824354562a5b3159a16b3705a2dc0&v=4" width="50">[SaadOps](https://github.com/SaadOps) commented at [2022-09-03 16:54](https://github.com/ethereum/solidity/issues/13466#issuecomment-1236163676):

Can you guide me to the codebase

#### <img src="https://avatars.githubusercontent.com/u/137030?v=4" width="50">[cameel](https://github.com/cameel) commented at [2023-02-06 15:58](https://github.com/ethereum/solidity/issues/13466#issuecomment-1419319182):

I'm not sure I fully understand what is being requested here. You want to be able to annotate that a certain constant could have been a variable and would have been taking up a storage slot then?

What is the expected output? What would happen if there were two such constants next to each other? Or if it's followed by a variable that actually takes up the slot?

Overall, this might be something that would be solved as a part of a feature for overriding the storage layout generated by the compiler. We have a bunch of feature requests for that:
- #597
- #4519
- #8353
- #12513
- #12920

Is there anything here that would not be covered by these? For example if we had #4519 you could just put an explicit gap next to such a constant to "reserve" its slot.

#### <img src="https://avatars.githubusercontent.com/u/1347491?v=4" width="50">[ekpyron](https://github.com/ekpyron) commented at [2023-02-07 14:23](https://github.com/ethereum/solidity/issues/13466#issuecomment-1420859049):

From what I understand the proper solution to this issue would be https://github.com/ethereum/solidity/issues/597, so I'm closing this. Feel free to reopen, if you disagree.


-------------------------------------------------------------------------------



[Export of Github issue for [ethereum/solidity](https://github.com/ethereum/solidity). Generated on 2024.12.15 at 06:45:24.]
