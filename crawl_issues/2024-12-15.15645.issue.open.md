# [\#15645 Issue](https://github.com/ethereum/solidity/issues/15645) `open`: ICE in CompilerStack.cpp
**Labels**: `bug :bug:`


#### <img src="https://avatars.githubusercontent.com/u/34816323?u=30559e19824fd038b33dc4b466b8a5600cee5b15&v=4" width="50">[haoyang9804](https://github.com/haoyang9804) opened issue at [2024-12-15 12:03](https://github.com/ethereum/solidity/issues/15645):

<!--## Prerequisites

- First, many thanks for taking part in the community. We really appreciate that.
- We realize there is a lot of information requested here. We ask only that you do your best to provide as much information as possible so we can better help you.
- Support questions are better asked in one of the following locations:
    - [Solidity chat](https://gitter.im/ethereum/solidity)
    - [Stack Overflow](https://ethereum.stackexchange.com/)
- Ensure the issue isn't already reported.
- The issue should be reproducible with the latest solidity version; however, this isn't a hard requirement and being reproducible with an older version is sufficient.
-->

## Description

Reproducible code generated by fuzzer:
```solidity
contract contract0 {
  event event1(int128 var2);

  string internal var3;
  int128 internal var4;

  constructor(int128 var5) {
    (int128(-5219264694000113017) * (var4));
  }

  function func6() internal {
    do {
      emit event1(var4);
    } while(bool(true));
  }

  function func7(int128 var8) internal returns (int128 var9) {
    do {
      emit event1(var4);
    } while((var4) >= (var4));
  }
}

contract contract10 {
  error error11(int16[1][] array12);

  struct struct15 {
    contract0 contract_instance16;
  }

  mapping(int128 => string[6]) internal mapping17;
  string internal var21;

  constructor() {
    int128 var25;
    for ((payable(0x5A82764cBC088bA28E98cB5e19cF842CC805ffBd)); (var25 < var25); var21) {
      ((var25)--);
    }
  }

  function func23(string calldata var24) internal pure {
    bool var26;
    while ((var26 = var26)) {}
  }
}
```

Compiling command to trigger this ICE:

```
../solidity/build/solc/solc generated_programs/program_2024-12-15_11:58:4_102.sol --opcodes --optimize --no-optimize-yul --optimize-runs 126 --model-checker-invariants contract --model-checker-solvers eld --model-checker-div-mod-no-slacks --model-checker-show-unproved --model-checker-timeout 15 --model-checker-show-proved-safe --model-checker-engine bmc --model-checker-targets all
```

ICE message:
```
Internal compiler error:
/solidity/libsolidity/interface/CompilerStack.cpp(1737): Throw in function std::string solidity::frontend::CompilerStack::createMetadata(const Contract &, bool) const
Dynamic exception type: boost::wrapexcept<solidity::langutil::InternalCompilerError>
std::exception::what: Solidity assertion failed
[solidity::util::tag_comment*] = Solidity assertion failed
```

<!--Please shortly describe the bug you have found, and what you expect instead.-->

## Environment

- Compiler version: 0.8.29-develop.2024.11.8+commit.323ad934.mod.Darwin.appleclang



<!--
Please provide a *minimal* source code example to trigger the bug you have found.
Please also mention any command-line flags that are necessary for triggering the bug.
Provide as much information as necessary to reproduce the bug.

```solidity
// Some *minimal* Solidity source code to reproduce the bug.
// ...
```
-->





-------------------------------------------------------------------------------



[Export of Github issue for [ethereum/solidity](https://github.com/ethereum/solidity). Generated on 2024.12.15 at 06:45:24.]
