# [\#5896 Issue](https://github.com/ethereum/solidity/issues/5896) `closed`: Compact AST not available for option  --combined-json
**Labels**: `feature`


#### <img src="https://avatars.githubusercontent.com/u/6027459?u=fa310a8a1b790d280109d5c201d7122638ec7640&v=4" width="50">[thec00n](https://github.com/thec00n) opened issue at [2019-01-29 14:57](https://github.com/ethereum/solidity/issues/5896):

## Abstract

The compact AST can be generated by running `solc` with the option `--ast-compact-json`. It is currently not possible to include the compact AST in the combined JSON along with other elements from the outputSelection. Only the legacy AST is available e.g. `solc  --pretty-json --combined-json ast foo.sol`

## Specification

For the `--combined-json` option change the attribute `ast` to include the compact AST and introduce the attribute `legacyAST` that includes the legacy AST in the JSON output. 

#### <img src="https://avatars.githubusercontent.com/u/9073706?v=4" width="50">[chriseth](https://github.com/chriseth) commented at [2019-01-29 14:57](https://github.com/ethereum/solidity/issues/5896#issuecomment-458877891):

The combined json is considered deprecated (though undocumented, sorry) in favour of standard-json. Are you relying on it heavily?

#### <img src="https://avatars.githubusercontent.com/u/6027459?u=fa310a8a1b790d280109d5c201d7122638ec7640&v=4" width="50">[thec00n](https://github.com/thec00n) commented at [2019-01-29 14:57](https://github.com/ethereum/solidity/issues/5896#issuecomment-458887719):

We use it to generate test cases for the [SWC-registry](https://github.com/SmartContractSecurity/SWC-registry) e.g. `solc --pretty-json --combined-json ast,bin,bin-runtime,srcmap,srcmap-runtime foo.sol >foo.json` so a security analysis tool does not have to compile the test cases and can access AST/bytecode etc. Is there another way to do this with solc?

#### <img src="https://avatars.githubusercontent.com/u/9073706?v=4" width="50">[chriseth](https://github.com/chriseth) commented at [2019-01-29 14:57](https://github.com/ethereum/solidity/issues/5896#issuecomment-458893321):

solc supports standard-json. It is a little less convenient for the commandline but should be easy to use (perhaps easier?) in automated tools.

#### <img src="https://avatars.githubusercontent.com/u/6027459?u=fa310a8a1b790d280109d5c201d7122638ec7640&v=4" width="50">[thec00n](https://github.com/thec00n) commented at [2019-01-29 14:57](https://github.com/ethereum/solidity/issues/5896#issuecomment-458910073):

In this case it be used from the command line. Looking at the Input and Output JSON Description from Solidity we can just create a small wrapper, so it's just as convenient if not more :) I am ok if we close the issue, thanks for the clarification.


-------------------------------------------------------------------------------



[Export of Github issue for [ethereum/solidity](https://github.com/ethereum/solidity). Generated on 2022.05.23 at 03:51:38.]
